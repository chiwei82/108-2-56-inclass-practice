pick_total = studentHeights[["類別"]] == "總計"
meanof6 = mean(as.numeric(studentHeights[["平均身高"]][pick6]))
meanof9 = mean(as.numeric(studentHeights[["平均身高"]][pick9]))
meanof13  = mean(as.numeric(studentHeights[["平均身高"]][pick13]))
meanofall = c(meanof6,meanof9,meanof13)
names(meanofall) = c("6-8","9-12","13-15")
averageHeightByGroup = meanofall
averageHeightByGroup
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr);
jsonlite::fromJSON("https://www.dropbox.com/s/es19f62rijrd8i7/studentHeight.json?dl=1") -> studentHeights
`levels_of_學年度` = sort(as.integer(levels(factor(studentHeights[["學年度"]],ordered = T))) , decreasing = F )
`levels_of_年齡` = sort(as.integer(levels(factor(studentHeights[["年齡"]],ordered = T))) , decreasing = F )
`levels_of_學年度`
`levels_of_年齡`
levels(factor(studentHeights[["學年度"]],levels = `levels_of_學年度`))
levels(factor(studentHeights[["年齡"]],levels = `levels_of_年齡`))
studentHeights[["學年度"]] = factor( studentHeights[["學年度"]], levels = `levels_of_學年度`)
studentHeights[["年齡"]] = factor( studentHeights[["年齡"]], levels = `levels_of_年齡`)
studentHeights
`年齡層類別` = c("6-8", "9-12", "13-15")
studentHeights[["年齡層"]] = factor(studentHeights[["年齡層"]], `年齡層類別`  )
levels(studentHeights[["年齡層"]])
studentHeights$`年齡層`
pick6 = studentHeights[["年齡層"]] == "6-8"
pick9 = studentHeights[["年齡層"]] == "9-12"
pick13 = studentHeights[["年齡層"]] == "13-15"
pick_total = studentHeights[["類別"]] == "總計"
meanof6 = mean(as.numeric(studentHeights[["平均身高"]][pick6 & pick_total]))
meanof9 = mean(as.numeric(studentHeights[["平均身高"]][pick9 & pick_total]))
meanof13  = mean(as.numeric(studentHeights[["平均身高"]][pick13 & pick_total]))
meanofall = c(meanof6,meanof9,meanof13)
names(meanofall) = c("6-8","9-12","13-15")
averageHeightByGroup = meanofall
averageHeightByGroup
pick6 = studentHeights[["年齡層"]] == "6-8"
pick9 = studentHeights[["年齡層"]] == "9-12"
pick13 = studentHeights[["年齡層"]] == "13-15"
pick_total = studentHeights[["類別"]] == "總計"
meanof6 = mean(as.numeric(studentHeights[["平均身高"]][pick6 && pick_total]))
meanof9 = mean(as.numeric(studentHeights[["平均身高"]][pick9 && pick_total]))
meanof13  = mean(as.numeric(studentHeights[["平均身高"]][pick13 && pick_total]))
meanofall = c(meanof6,meanof9,meanof13)
names(meanofall) = c("6-8","9-12","13-15")
averageHeightByGroup = meanofall
averageHeightByGroup
pick_total = (studentHeights[["類別"]] == "總計")
pick6 = (studentHeights[["年齡層"]] == "6-8") & pick_total
pick9 = (studentHeights[["年齡層"]] == "9-12") & pick_total
pick13 = (studentHeights[["年齡層"]] == "13-15") & pick_total
meanof6 = mean(as.numeric(studentHeights[["平均身高"]][pick6]))
meanof9 = mean(as.numeric(studentHeights[["平均身高"]][pick9]))
meanof13  = mean(as.numeric(studentHeights[["平均身高"]][pick13]))
meanofall = c(meanof6,meanof9,meanof13)
names(meanofall) = c("6-8","9-12","13-15")
averageHeightByGroup = meanofall
averageHeightByGroup
pick6 = studentHeights[["年齡層"]] == "6-8"
pick9 = studentHeights[["年齡層"]] == "9-12"
pick13 = studentHeights[["年齡層"]] == "13-15"
meanof6 = mean(as.numeric(studentHeights[["平均身高"]][pick6]))
meanof9 = mean(as.numeric(studentHeights[["平均身高"]][pick9]))
meanof13  = mean(as.numeric(studentHeights[["平均身高"]][pick13]))
meanofall = c(meanof6,meanof9,meanof13)
names(meanofall) = c("6-8","9-12","13-15")
averageHeightByGroup = meanofall
averageHeightByGroup
pick_total = (studentHeights[["類別"]] == "總計")
pick6 = (studentHeights[["年齡層"]] == "6-8") & pick_total
pick9 = (studentHeights[["年齡層"]] == "9-12") & pick_total
pick13 = (studentHeights[["年齡層"]] == "13-15") & pick_total
meanof6 = mean(as.numeric(studentHeights[["平均身高"]][pick6 == T]))
meanof9 = mean(as.numeric(studentHeights[["平均身高"]][pick9 == T]))
meanof13  = mean(as.numeric(studentHeights[["平均身高"]][pick13 == T]))
meanofall = c(meanof6,meanof9,meanof13)
names(meanofall) = c("6-8","9-12","13-15")
averageHeightByGroup = meanofall
averageHeightByGroup
str(studentHeights)
pick_total
pick6
pick6
studentHeights[["年齡層"]] == "6-8"
meanof6 = mean(as.numeric(studentHeights[["平均身高"]][studentHeights[["年齡層"]] == "6-8"]))
meanof9 = mean(as.numeric(studentHeights[["平均身高"]][studentHeights[["年齡層"]] == "9-12"]))
meanof13  = mean(as.numeric(studentHeights[["平均身高"]][studentHeights[["年齡層"]] == "13-15"]))
meanofall = c(meanof6,meanof9,meanof13)
names(meanofall) = c("6-8","9-12","13-15")
averageHeightByGroup = meanofall
averageHeightByGroup
pick6
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr);
jsonlite::fromJSON("https://www.dropbox.com/s/es19f62rijrd8i7/studentHeight.json?dl=1") -> studentHeights
`levels_of_學年度` = sort(as.integer(levels(factor(studentHeights[["學年度"]],ordered = T))) , decreasing = F )
`levels_of_年齡` = sort(as.integer(levels(factor(studentHeights[["年齡"]],ordered = T))) , decreasing = F )
`levels_of_學年度`
`levels_of_年齡`
levels(factor(studentHeights[["學年度"]],levels = `levels_of_學年度`))
levels(factor(studentHeights[["年齡"]],levels = `levels_of_年齡`))
studentHeights[["學年度"]] = factor( studentHeights[["學年度"]], levels = `levels_of_學年度`)
studentHeights[["年齡"]] = factor( studentHeights[["年齡"]], levels = `levels_of_年齡`)
studentHeights
`年齡層類別` = c("6-8", "9-12", "13-15")
studentHeights[["年齡層"]] = factor(studentHeights[["年齡層"]], `年齡層類別`  )
levels(studentHeights[["年齡層"]])
studentHeights$`年齡層`
pick_total = (studentHeights[["類別"]] == "總計")
pick_total
pick6
pick9
pick9 = (studentHeights[["年齡層"]] == "9-12") & pick_total
pick9
pick13
pick13 = (studentHeights[["年齡層"]] == "13-15") & pick_total
pick13
meanof6 = mean(as.numeric(studentHeights[["平均身高"]][pick6 == T]))
pick_total = (studentHeights[["類別"]] == "總計")
pick_total
pick6
pick_total = (studentHeights[["類別"]] == "總計")
pick_total
pick6 = (studentHeights[["年齡層"]] == "6-8") & pick_total
pick6
pick9 = (studentHeights[["年齡層"]] == "9-12") & pick_total
pick9
pick13 = (studentHeights[["年齡層"]] == "13-15") & pick_total
pick13
meanof6 = mean(as.numeric(studentHeights[["平均身高"]][pick6 == T]))
meanof9 = mean(as.numeric(studentHeights[["平均身高"]][pick9 == T]))
meanof13  = mean(as.numeric(studentHeights[["平均身高"]][pick13 == T]))
meanofall = c(meanof6,meanof9,meanof13)
names(meanofall) = c("6-8","9-12","13-15")
averageHeightByGroup = meanofall
averageHeightByGroup
pick_total = (studentHeights[["類別"]] == "總計")
pick_total
pick6 = (studentHeights[["年齡層"]] == "6-8") & pick_total
pick6
pick9 = (studentHeights[["年齡層"]] == "9-12") & pick_total
pick9
pick13 = (studentHeights[["年齡層"]] == "13-15") & pick_total
pick13
meanof6 = mean(as.numeric(studentHeights[["平均身高"]][pick6 == T]))
meanof9 = mean(as.numeric(studentHeights[["平均身高"]][pick9 == T]))
meanof13  = mean(as.numeric(studentHeights[["平均身高"]][pick13 == T]))
meanofall = c(meanof6,meanof9,meanof13)
names(meanofall) = c("6-8","9-12","13-15")
averageHeightByGroup = meanofall
averageHeightByGroup
pick13
pick_total = (studentHeights[["類別"]] == "總計")
pick_total
pick6 = (studentHeights[["年齡層"]] == "6-8") & pick_total
pick6
pick9 = (studentHeights[["年齡層"]] == "9-12") & pick_total
pick9
pick13 = (studentHeights[["年齡層"]] == "13-15") & pick_total
pick13
meanof6 = mean(as.numeric(studentHeights[["平均身高"]][pick6 == T]))
meanof9 = mean(as.numeric(studentHeights[["平均身高"]][pick9 == T]))
meanof13  = mean(as.numeric(studentHeights[["平均身高"]][pick13 == T]))
meanofall = c(meanof6,meanof9,meanof13)
names(meanofall) = c("6-8","9-12","13-15")
averageHeightByGroup = meanofall
averageHeightByGroup
pick_male = studentHeights[["類別"]] == "男"
pick_female = studentHeights[["類別"]] == "女"
pick_6_male = (studentHeights[["年齡層"]]=="6-8") & pick_male
pick_6_female =  (studentHeights[["年齡層"]]=="6-8") & pick_female
pick_9_male = (studentHeights[["年齡層"]]=="9-12") & pick_male
pick_9_female =  (studentHeights[["年齡層"]]=="9-12") & pick_female
pick_13_male = (studentHeights[["年齡層"]]=="13-15") & pick_male
pick_13_female =  (studentHeights[["年齡層"]]=="13-15") & pick_female
mean6_m =  mean(as.numeric(studentHeights[["平均身高"]][pick_6_male == T]))
mean6_f =  mean(as.numeric(studentHeights[["平均身高"]][pick_6_female == T]))
mean9_m =  mean(as.numeric(studentHeights[["平均身高"]][pick_9_male == T]))
mean9_f =  mean(as.numeric(studentHeights[["平均身高"]][pick_9_female == T]))
mean13_m =  mean(as.numeric(studentHeights[["平均身高"]][pick_13_male == T]))
mean13_f =  mean(as.numeric(studentHeights[["平均身高"]][pick_13_female == T]))
diffmean6 = mean6_m - mean6_f
diffmean9 = mean9_m - mean9_f
diffmean13 = mean13_m - mean13_f
diffmean = c(diffmean6, diffmean9, diffmean13)
names(diffmean) =  c("6-8","9-12","13-15")
heightDifferenceByGroup = diffmean
heightDifferenceByGroup
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
table(differentMajors)
realEstateRegex = "不動(?.產與城鄉環境學)系"
# realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex = "不+動+產+與+城+鄉+環+境+學系"
# realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex = "(不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?)(學?)系"
# realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "(不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?)學系"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "(不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?)學系"
# realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex = "(不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?)"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "(不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?)系"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "((不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?))+學系"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
realEstateRegex = "((不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?))+學系"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "((不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?))+(學系)"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "((不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?))+(學系)(?!系)"
# realEstateRegex
realEstateRegex = "((不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?))+(學系)(?!系)"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "((不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?))+系"
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "((不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?))+(學系)"
str_replace(differentMajors,realEstateRegex,"不動系")
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr);
a= str_replace(currentLevels,bSchoolRegex,"商學院")
a = str_replace(differentMajors,realEstateRegex,"不動系")
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
realEstateRegex = "((不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?))+(學系)"
# realEstateRegex
a = str_replace(differentMajors,realEstateRegex,"不動系")
table(a)
realEstateRegex = "((不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?)(學?))+系)"
table(a)
realEstateRegex = "((不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?)(學?))+系)"
# realEstateRegex
a = str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex = "((不?)(動?)(產?)(與?)(城?)(鄉?)(環?)(境?)(學?))系)"
a = str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?)學)系"
a = str_replace(differentMajors,realEstateRegex,"不動系")
table(a)
str_replace(differentMajors,realEstateRegex,"不動系")
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?)學)?系"
str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?)學?)系"
# realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?)學?)(?!系)"
# realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?)學系)"
str_replace(differentMajors,realEstateRegex,"不動系")
table(str_replace(differentMajors,realEstateRegex,"不動系"))
table(differentMajors)
table(str_replace(differentMajors,realEstateRegex,"不動系"))
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
table(differentMajors)
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr);
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?)學系)"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?)學(?!系)"
# realEstateRegex
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
table(str_replace(differentMajors,realEstateRegex,"不動系"))
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?)學)(?!系)"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?)學)(?!系)"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?))學"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?))"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
realEstateRegex = "(不?動?產?與?城?鄉?環?境?)"
# realEstateRegex
str_extract(differentMajors,realEstateRegex)
str_extract(differentMajors,realEstateRegex)
realEstateRegex = "(不?動?產?與?城?鄉?環?境?)+系"
# realEstateRegex
str_extract(differentMajors,realEstateRegex)
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?))學系"
# realEstateRegex
str_extract(differentMajors,realEstateRegex)
realEstateRegex = "(不?動?產?與?城?鄉?環?境?)"
# realEstateRegex
str_extract(differentMajors,realEstateRegex)
realEstateRegex = "(?<=(不?動?產?與?城?鄉?環?境?))"
# realEstateRegex
str_extract(differentMajors,realEstateRegex)
realEstateRegex = "(不?動?產?與?城?鄉?環?境?)"
# realEstateRegex
str_extract(differentMajors,realEstateRegex)
table(str_extract(differentMajors,realEstateRegex))
table(str_replace(differentMajors,realEstateRegex,"不動系"))
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
realEstateRegex = "(不動產與城鄉環境學)?系"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
realEstateRegex = "(不動產與城鄉環境)?系"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
realEstateRegex = "(不動產與城鄉環境)?系"
# realEstateRegex
table(str_replace(differentMajors,realEstateRegex,"不動系"))
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
realEstateRegex = "(不動產與城鄉環境)?"
# realEstateRegex
str_extract(differentMajors,realEstateRegex)
realEstateRegex = "(不?動?產?與?城?鄉?環?境?)(學?)"
# realEstateRegex
differentMajors,realEstateRegex
str_extract(differentMajors,realEstateRegex)
str_extract(differentMajors,realEstateRegex)
realEstateRegex = "(不?動?產?與?城?鄉?環?境?)(學?)系"
# realEstateRegex
str_extract(differentMajors,realEstateRegex)
realEstateRegex = "(?<=((不?動?產?與?城?鄉?環?境?)(學?)))系"
# realEstateRegex
str_extract(differentMajors,realEstateRegex)
realEstateRegex = "((不?動?產?與?城?鄉?環?境?)(學?))"
# realEstateRegex
realEstateRegex = "(不?動?產?與?城?鄉?環?境?)(學?)"
# realEstateRegex
str_extract(differentMajors,realEstateRegex)
table(str_extract(differentMajors,realEstateRegex))
realEstateRegex = "(不?動?產?與?城?鄉?環?境?)(學?)(系?)"
# realEstateRegex
str_extract(differentMajors,realEstateRegex)
str_replace(differentMajors,realEstateRegex,"不動系"))
str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex = "(不動)(產?與?城?鄉?環?境?)(學?)(系?)"
# realEstateRegex
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
str_replace(differentMajors,realEstateRegex,"不動系")
table(differentMajors)
str_replace(differentMajors,realEstateRegex,"不動系")
table(str_replace(differentMajors,realEstateRegex,"不動系"))
differentMajors = factor(differentMajors)
currentLevels = levels(differentMajors)
currentLevels
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr);
jsonlite::fromJSON("https://www.dropbox.com/s/es19f62rijrd8i7/studentHeight.json?dl=1") -> studentHeights
`levels_of_學年度` = sort(as.integer(levels(factor(studentHeights[["學年度"]],ordered = T))) , decreasing = F )
`levels_of_年齡` = sort(as.integer(levels(factor(studentHeights[["年齡"]],ordered = T))) , decreasing = F )
`levels_of_學年度`
`levels_of_年齡`
levels(factor(studentHeights[["學年度"]],levels = `levels_of_學年度`))
levels(factor(studentHeights[["年齡"]],levels = `levels_of_年齡`))
studentHeights[["學年度"]] = factor( studentHeights[["學年度"]], levels = `levels_of_學年度`)
studentHeights[["年齡"]] = factor( studentHeights[["年齡"]], levels = `levels_of_年齡`)
studentHeights
`年齡層類別` = c("6-8", "9-12", "13-15")
studentHeights[["年齡層"]] = factor(studentHeights[["年齡層"]], `年齡層類別`  )
levels(studentHeights[["年齡層"]])
studentHeights$`年齡層`
pick_total = (studentHeights[["類別"]] == "總計")
pick_total
pick6 = (studentHeights[["年齡層"]] == "6-8") & pick_total
pick6
pick9 = (studentHeights[["年齡層"]] == "9-12") & pick_total
pick9
pick13 = (studentHeights[["年齡層"]] == "13-15") & pick_total
pick13
meanof6 = mean(as.numeric(studentHeights[["平均身高"]][pick6 == T]))
meanof9 = mean(as.numeric(studentHeights[["平均身高"]][pick9 == T]))
meanof13  = mean(as.numeric(studentHeights[["平均身高"]][pick13 == T]))
meanofall = c(meanof6,meanof9,meanof13)
names(meanofall) = c("6-8","9-12","13-15")
averageHeightByGroup = meanofall
averageHeightByGroup
pick_male = studentHeights[["類別"]] == "男"
pick_female = studentHeights[["類別"]] == "女"
pick_6_male = (studentHeights[["年齡層"]]=="6-8") & pick_male
pick_6_female =  (studentHeights[["年齡層"]]=="6-8") & pick_female
pick_9_male = (studentHeights[["年齡層"]]=="9-12") & pick_male
pick_9_female =  (studentHeights[["年齡層"]]=="9-12") & pick_female
pick_13_male = (studentHeights[["年齡層"]]=="13-15") & pick_male
pick_13_female =  (studentHeights[["年齡層"]]=="13-15") & pick_female
mean6_m =  mean(as.numeric(studentHeights[["平均身高"]][pick_6_male == T]))
mean6_f =  mean(as.numeric(studentHeights[["平均身高"]][pick_6_female == T]))
mean9_m =  mean(as.numeric(studentHeights[["平均身高"]][pick_9_male == T]))
mean9_f =  mean(as.numeric(studentHeights[["平均身高"]][pick_9_female == T]))
mean13_m =  mean(as.numeric(studentHeights[["平均身高"]][pick_13_male == T]))
mean13_f =  mean(as.numeric(studentHeights[["平均身高"]][pick_13_female == T]))
diffmean6 = mean6_m - mean6_f
diffmean9 = mean9_m - mean9_f
diffmean13 = mean13_m - mean13_f
diffmean = c(diffmean6, diffmean9, diffmean13)
names(diffmean) =  c("6-8","9-12","13-15")
heightDifferenceByGroup = diffmean
heightDifferenceByGroup
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
realEstateRegex = "(不動)(產?與?城?鄉?環?境?)(學?)(系?)"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
differentMajors = factor(differentMajors)
currentLevels = levels(differentMajors)
currentLevels
table(differentMajors)
str_replace(differentMajors,realEstateRegex,"不動系")
table(str_replace(differentMajors,realEstateRegex,"不動系"))
bSchoolRegex = "(休閒與運動管理學系|金融系|金融與合作經營學系|金融與合作學系)"
# bSchoolRegex
table(str_replace(currentLevels,bSchoolRegex,"商學院"))
bSchoolRegex = "(休運系|休閒與運動管理學系|金融系|金融與合作經營學系|金融與合作學系)"
# bSchoolRegex
table(str_replace(currentLevels,bSchoolRegex,"商學院"))
bSchoolRegex = "(休運系|休閒與運動管理學系|金融系|金融與合作學系|金融與合作經營學系)"
# bSchoolRegex
table(str_replace(currentLevels,bSchoolRegex,"商學院"))
str_replace(currentLevels,bSchoolRegex,"商學院")
table(str_replace(currentLevels,bSchoolRegex,"商學院"))
table(differentMajors)
levels(differentMajors)
levels(differentMajors) = str_replace(currentLevels,bSchoolRegex,"商學院")
levels(differentMajors)
table(differentMajors)
realEstateRegex = "(不動)(產?與?城?鄉?環?境?)(學?)(系?)"
realEstateRegex
levels(differentMajors) = str_replace(currentLevels,bSchoolRegex,"商學院")
levels(differentMajors) = str_replace(differentMajors,realEstateRegex,"不動系")
table(differentMajors)
# differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
realEstateRegex = "(不動)(產?與?城?鄉?環?境?)(學?)(系?)"
realEstateRegex
differentMajors = factor(differentMajors)
currentLevels = levels(differentMajors)
currentLevels
bSchoolRegex = "(休運系|休閒與運動管理學系|金融系|金融與合作學系|金融與合作經營學系)"
bSchoolRegex
levels(differentMajors) = str_replace(currentLevels,bSchoolRegex,"商學院")
table(differentMajors)
differentMajors =  str_replace(differentMajors,realEstateRegex,"不動系")
levels(differentMajors) = str_replace(currentLevels,bSchoolRegex,"商學院")
table(differentMajors)
# differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
realEstateRegex = "(不動)(產?與?城?鄉?環?境?)(學?)(系?)"
realEstateRegex
table(differentMajors)
differentMajors =  str_replace(differentMajors,realEstateRegex,"不動系")
table(differentMajors)
# differentMajors
differentMajors =  str_replace(differentMajors,"休閒與運動管理學系","休運系")
differentMajors =  str_replace(differentMajors,"(金融與合作學系|金融與合作經營學系)","金融系")
differentMajors =  str_replace(differentMajors,"經濟學系","經濟系")
differentMajors =  str_replace(differentMajors,"社會工作學系","社工系")
differentMajors =  str_replace(differentMajors,"社會學系","社會系")
differentMajors =  str_replace(differentMajors,"(公共行政系|公共行政暨政策學系)","公行系")
differentMajors =  str_replace(differentMajors,realEstateRegex,"不動系")
table(differentMajors)
# differentMajors
differentMajors =  str_replace(differentMajors,"休閒與運動管理學系","休運系")
differentMajors =  str_replace(differentMajors,"(金融與合作學系|金融與合作經營學系)","金融系")
differentMajors =  str_replace(differentMajors,"經濟學系","經濟系")
differentMajors =  str_replace(differentMajors,"社會工作學系","社工系")
differentMajors =  str_replace(differentMajors,"社會學系","社會系")
differentMajors =  str_replace(differentMajors,"(公共行政|公共行政暨政策學)系(?!學)","公行系")
differentMajors =  str_replace(differentMajors,realEstateRegex,"不動系")
table(differentMajors)
# differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
realEstateRegex = "(不動)(產?與?城?鄉?環?境?)(學?)(系?)"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
differentMajors = factor(differentMajors)
currentLevels = levels(differentMajors)
currentLevels
bSchoolRegex = "(休運系|休閒與運動管理學系|金融系|金融與合作學系|金融與合作經營學系)"
bSchoolRegex
str_replace(currentLevels,bSchoolRegex,"商學院")
differentMajors =  str_replace(differentMajors,"休閒與運動管理學系","休運系")
differentMajors =  str_replace(differentMajors,"(金融與合作學系|金融與合作經營學系)","金融系")
differentMajors =  str_replace(differentMajors,"經濟學系","經濟系")
differentMajors =  str_replace(differentMajors,"社會工作學系","社工系")
differentMajors =  str_replace(differentMajors,"社會學系","社會系")
differentMajors =  str_replace(differentMajors,"(公共行政|公共行政暨政策學)系(?!學)","公行系")
differentMajors =  str_replace(differentMajors,realEstateRegex,"不動系")
table(differentMajors)
# differentMajors
differentMajors =  str_replace(differentMajors,"休閒與運動管理學系","休運系")
differentMajors =  str_replace(differentMajors,"(金融與合作學系|金融與合作經營學系)","金融系")
differentMajors =  str_replace(differentMajors,"經濟學系","經濟系")
differentMajors =  str_replace(differentMajors,"社會工作學系","社工系")
differentMajors =  str_replace(differentMajors,"社會學系","社會系")
differentMajors =  str_replace(differentMajors,"(公共行政|公共行政暨政策學)系(?!學)","公行系")
differentMajors =  str_replace(differentMajors,realEstateRegex,"不動系")
table(differentMajors)
differentMajors
